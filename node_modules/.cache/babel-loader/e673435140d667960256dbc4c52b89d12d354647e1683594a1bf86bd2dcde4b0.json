{"ast":null,"code":"var _jsxFileName = \"/app/src/ProblemComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProblemComponent = () => {\n  _s();\n  const [selectedDeficiency, setSelectedDeficiency] = useState(null);\n  const leftPanelRef = useRef(null); // The ref is only on the left panel (the list)\n\n  const deficiencies = [{\n    id: 1,\n    title: 'Wall Plate Alignment',\n    description: 'Check that wall plates are properly aligned'\n  }, {\n    id: 2,\n    title: 'Stud Spacing',\n    description: 'Verify studs are spaced correctly (16\" or 24\" OC)'\n  }, {\n    id: 3,\n    title: 'Bracing Installation',\n    description: 'Check that bracing is properly installed'\n  }];\n  const handleDownloadPdf = async () => {\n    // Problem: The ref is only targeting the left panel\n    const element = leftPanelRef.current;\n    if (!element) return;\n    try {\n      const canvas = await html2canvas(element);\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF();\n      const imgProps = pdf.getImageProperties(imgData);\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = imgProps.height * pdfWidth / imgProps.width;\n      pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n      pdf.save('report_problem.pdf');\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh',\n      flexDirection: 'row'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: leftPanelRef,\n      style: {\n        width: '50%',\n        borderRight: '1px solid #ccc',\n        padding: '20px',\n        overflowY: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Deficiencies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0\n        },\n        children: deficiencies.map(def => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => setSelectedDeficiency(def),\n          style: {\n            cursor: 'pointer',\n            marginBottom: '15px',\n            padding: '10px',\n            border: (selectedDeficiency === null || selectedDeficiency === void 0 ? void 0 : selectedDeficiency.id) === def.id ? '2px solid #007bff' : '1px solid #ddd',\n            borderRadius: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: def.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'red',\n              fontWeight: 'bold'\n            },\n            children: \"FAILED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, def.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownloadPdf,\n        style: {\n          marginTop: '20px',\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"Download PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '50%',\n        padding: '20px',\n        backgroundColor: '#f9f9f9',\n        overflowY: 'auto'\n      },\n      children: selectedDeficiency ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: selectedDeficiency.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedDeficiency.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red',\n            fontWeight: 'bold'\n          },\n          children: \"FAILED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"inspector signature line here...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select a deficiency to view details.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(ProblemComponent, \"w3nt9P1WmAq3/tuGseA1EfN1Fn0=\");\n_c = ProblemComponent;\nexport default ProblemComponent;\nvar _c;\n$RefreshReg$(_c, \"ProblemComponent\");","map":{"version":3,"names":["React","useRef","useState","html2canvas","jsPDF","jsxDEV","_jsxDEV","ProblemComponent","_s","selectedDeficiency","setSelectedDeficiency","leftPanelRef","deficiencies","id","title","description","handleDownloadPdf","element","current","canvas","imgData","toDataURL","pdf","imgProps","getImageProperties","pdfWidth","internal","pageSize","getWidth","pdfHeight","height","width","addImage","save","error","console","style","display","flexDirection","children","ref","borderRight","padding","overflowY","fileName","_jsxFileName","lineNumber","columnNumber","listStyle","map","def","onClick","cursor","marginBottom","border","borderRadius","color","fontWeight","marginTop","backgroundColor","_c","$RefreshReg$"],"sources":["/app/src/ProblemComponent.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\n\nconst ProblemComponent = () => {\n  const [selectedDeficiency, setSelectedDeficiency] = useState(null);\n  const leftPanelRef = useRef(null); // The ref is only on the left panel (the list)\n\n  const deficiencies = [\n    { id: 1, title: 'Wall Plate Alignment', description: 'Check that wall plates are properly aligned' },\n    { id: 2, title: 'Stud Spacing', description: 'Verify studs are spaced correctly (16\" or 24\" OC)' },\n    { id: 3, title: 'Bracing Installation', description: 'Check that bracing is properly installed' },\n  ];\n\n  const handleDownloadPdf = async () => {\n    // Problem: The ref is only targeting the left panel\n    const element = leftPanelRef.current;\n    if (!element) return;\n    \n    try {\n      const canvas = await html2canvas(element);\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF();\n      const imgProps = pdf.getImageProperties(imgData);\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;\n      \n      pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n      pdf.save('report_problem.pdf');\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh', flexDirection: 'row' }}>\n      {/* Left Panel - Ref is here */}\n      <div \n        ref={leftPanelRef} \n        style={{ width: '50%', borderRight: '1px solid #ccc', padding: '20px', overflowY: 'auto' }}\n      >\n        <h2>Deficiencies</h2>\n        <ul style={{ listStyle: 'none', padding: 0 }}>\n          {deficiencies.map(def => (\n            <li \n              key={def.id} \n              onClick={() => setSelectedDeficiency(def)} \n              style={{ \n                cursor: 'pointer', \n                marginBottom: '15px',\n                padding: '10px',\n                border: selectedDeficiency?.id === def.id ? '2px solid #007bff' : '1px solid #ddd',\n                borderRadius: '4px'\n              }}\n            >\n              <strong>{def.title}</strong>\n              <div style={{ color: 'red', fontWeight: 'bold' }}>FAILED</div>\n            </li>\n          ))}\n        </ul>\n        <button \n          onClick={handleDownloadPdf}\n          style={{ marginTop: '20px', padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\n        >\n          Download PDF\n        </button>\n      </div>\n\n      {/* Right Panel - Outside the ref */}\n      <div style={{ width: '50%', padding: '20px', backgroundColor: '#f9f9f9', overflowY: 'auto' }}>\n        {selectedDeficiency ? (\n          <div>\n            <h2>Description</h2>\n            <h3>{selectedDeficiency.title}</h3>\n            <p>{selectedDeficiency.description}</p>\n            <div style={{ color: 'red', fontWeight: 'bold' }}>FAILED</div>\n            <p>inspector signature line here...</p>\n          </div>\n        ) : (\n          <p>Select a deficiency to view details.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProblemComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}